@use 'variables';
@use 'mixins';

.keyboard {
  margin-top: var(--spacing-md);
  display: flex;
  flex-direction: column;
  align-items: center;

  .keyboard-row {
    display: flex;
    justify-content: space-between;
    gap: var(--spacing-xs);
    width: 100%;
    margin-bottom: var(--spacing-sm);

    .key {
      flex: 1;
      height: 62px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--border-radius-sm);
      font-size: var(--font-size-md);
      font-weight: var(--font-weight-bold);
      text-transform: uppercase;
      user-select: none;
      border: 1px solid var(--color-text-disabled);
      background-color: var(--color-surface-variant);
      color: var(--color-text-primary);
      transition: background-color var(--animation-spring), color var(--animation-spring);
      cursor: pointer;
      outline: none;
      position: relative;
      overflow: hidden;

      &.large {
        flex: 1.5;
        font-size: 0.85em;
        letter-spacing: -0.5px;
      }

      &:focus-visible {
        outline: 2px solid var(--color-primary);
        outline-offset: 2px;
      }

      &:hover {
        filter: brightness(1.05);
      }

      &:active {
        transform: scale(0.95);
      }

      &.key-filled {
        background-color: var(--color-surface);
        border-color: var(--color-primary);
      }

      &.key-correct {
        background-color: var(--color-correct);
        border-color: var(--color-correct);
        color: white;
      }

      &.key-present {
        background-color: var(--color-present);
        border-color: var(--color-present);
        color: white;
      }

      &.key-absent {
        background-color: var(--color-absent);
        border-color: var(--color-absent);
        color: var(--color-text-on-dark);
      }
    }
  }
}

// Responsive key sizing to prevent overflow
@media (max-width: 600px) {
  .keyboard-row .key {
    height: 48px;
    font-size: var(--font-size-sm);
  }
}

@media (max-width: 360px) {
  .keyboard-row .key {
    height: 36px;
    font-size: var(--font-size-xs);
  }
}
